<!-- upload-content.component.html -->
<div class="container">
  <h1>Upload Content</h1>

  <p>
    Your upload will be submitted for admin review. If approved, it will be placed in:
    <strong>
      @if (subpath) {
        /{{ subpath }}
      } @else {
        /Home
      }
    </strong>
  </p>

  <div class="upload-section">
    <h2>Upload Files</h2>
    <div class="info">
      You can select multiple files at once. Hold down the Ctrl (or Cmd on Mac) key while clicking to select more than one.
    </div>
    <form (ngSubmit)="onSubmitFiles()" #filesForm="ngForm">
      <input type="file" (change)="onFileChange($event)" multiple required [disabled]="isUploadingFile"/>
      <br />
      <button type="submit" [disabled]="isUploadingFile">
      Upload Files for Review

      @if (isUploadingFile) {
        <span class="spinner"></span>
      }
      </button>
    </form>
  </div>

  <div class="upload-section">
    <h2>Upload a Folder</h2>
    <div class="info">
      Select a folder to upload all of its contents, including sub-folders.
    </div>
    <form (ngSubmit)="onSubmitFolder()" #folderForm="ngForm">
      <input type="file" (change)="onFolderChange($event)" webkitdirectory required [disabled]="isUploadingFolder" />
      <br />
      <button type="submit" [disabled]="isUploadingFolder">
      Upload Folders for Review

      @if (isUploadingFolder) {
        <span class="spinner"></span>
      }
      </button>
    </form>
  </div>

  <a routerLink="/dashboard" class="back-link">Back to Files</a>
</div>
